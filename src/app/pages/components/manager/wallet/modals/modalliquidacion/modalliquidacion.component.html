<!-- Modal -->

<div
    class="row justify-content-center"
    [class.component-dark-theme]="themeService.isDark()"
    [class.component-rtl-enabled]="themeService.isRTLEnabled()"
>
    <mat-card class="example-card">
        <div class="container-fluid">
            <h3 class="text-center mt-3">Liquidacion</h3>

            <mat-card-content>
                <div class="row">
                    <div class="col-4 offset-8">
                        <h3>
                            Valor a Pagar:
                            {{ total_pagar }}
                        </h3>
                    </div>
                </div>

                <table mat-table [dataSource]="dataLoans" class="mt-3">
                    <!-- Position Column -->
                    <ng-container matColumnDef="item">
                        <th mat-header-cell *matHeaderCellDef>Item</th>
                        <td
                            mat-cell
                            *matCellDef="let element; let index = index"
                        >
                            <mat-checkbox
                                class="example-margin"
                                (click)="onSelected($event, index, element)"
                            ></mat-checkbox>
                        </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="VlSolicitado">
                        <th mat-header-cell *matHeaderCellDef>
                            Valor Solicitado
                        </th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.loanAmount }}
                        </td>
                    </ng-container>

                    <!-- Weight Column -->
                    <ng-container matColumnDef="cuotas">
                        <th mat-header-cell *matHeaderCellDef>
                            Cuotas Solicitadas
                        </th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.paymentDeadline }}
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr
                        mat-row
                        *matRowDef="let row; columns: displayedColumns"
                    ></tr>
                </table>
            </mat-card-content>
            <mat-card-actions class="mb-3">
                <button mat-button (click)="closeDialog()">Cerrar</button>
                <button
                    mat-raised-button
                    class="tagus ms-3"
                    (click)="sendData()"
                >
                    Liquidar
                </button>
            </mat-card-actions>
        </div>
    </mat-card>
</div>
